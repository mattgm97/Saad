import React, { useState } from 'react'
import './global.css'
import { ExtensionPoint } from 'vtex.render-runtime'

const SearchModalComponent: StorefrontFunctionComponent = () => {
  const [showModal, setShowModal] = useState(false)

  return (
    <>
      <div className="searchCustom">
        <span
          onClick={() => {
            setShowModal(true)
          }}
        >
          {!showModal && (
            <>
             <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M21.0563 21.5839C21.1243 21.6519 21.2344 21.6519 21.3023 21.5839L22.123 20.7633C22.1556 20.7306 22.1739 20.6864 22.1739 20.6403C22.1739 20.5941 22.1556 20.5499 22.123 20.5173L14.9748 13.3691C15.4056 12.8422 15.7554 12.2209 16.0256 11.5074C16.3185 10.734 16.465 9.93332 16.465 9.10648C16.465 7.204 15.8033 5.58748 14.4816 4.26762C13.1601 2.94783 11.5433 2.28699 9.64191 2.28699C7.74043 2.28699 6.12476 2.94876 4.8056 4.2704C3.48652 5.59195 2.82606 7.20873 2.82606 9.1101C2.82606 11.0115 3.48691 12.6272 4.80682 13.9463C6.12671 15.2655 7.74318 15.926 9.64553 15.926C10.4278 15.926 11.2051 15.7869 11.9767 15.5099C12.6963 15.2515 13.3403 14.8934 13.9074 14.435L21.0563 21.5839ZM13.4195 5.33247L13.5425 5.20948L13.4195 5.33248C14.4452 6.35815 14.9575 7.61249 14.9575 9.10648C14.9575 10.6005 14.4452 11.8548 13.4195 12.8805C12.3939 13.9062 11.1395 14.4185 9.64553 14.4185C8.15154 14.4185 6.89721 13.9062 5.87153 12.8805C4.84588 11.8548 4.33359 10.6005 4.33359 9.10648C4.33359 7.61249 4.84588 6.35815 5.87153 5.33248C6.89721 4.3068 8.15154 3.7945 9.64553 3.7945C11.1395 3.7945 12.3939 4.3068 13.4195 5.33247Z" fill="white" stroke="white" stroke-width="0.347887" stroke-linejoin="round"/>
</svg>
              <span className='textDescription'>Busca</span>
            </>
          )}

          {showModal && (
            <span
              onClick={e => {
                e.stopPropagation()
                setShowModal(false)
              }}
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4.29341 18.2931L10.5864 12.0001L4.29341 5.70708C4.11125 5.51848 4.01045 5.26588 4.01273 5.00368C4.01501 4.74148 4.12018 4.49067 4.30559 4.30526C4.491 4.11985 4.74181 4.01469 5.00401 4.01241C5.2662 4.01013 5.5188 4.11092 5.70741 4.29308L12.0004 10.5861L18.2934 4.29308C18.3857 4.19757 18.496 4.12139 18.618 4.06898C18.74 4.01657 18.8712 3.98898 19.004 3.98783C19.1368 3.98668 19.2685 4.01198 19.3914 4.06226C19.5143 4.11254 19.6259 4.18679 19.7198 4.28069C19.8137 4.37458 19.8879 4.48623 19.9382 4.60913C19.9885 4.73202 20.0138 4.8637 20.0127 4.99648C20.0115 5.12926 19.9839 5.26048 19.9315 5.38249C19.8791 5.50449 19.8029 5.61483 19.7074 5.70708L13.4144 12.0001L19.7074 18.2931C19.8029 18.3853 19.8791 18.4957 19.9315 18.6177C19.9839 18.7397 20.0115 18.8709 20.0127 19.0037C20.0138 19.1365 19.9885 19.2681 19.9382 19.391C19.8879 19.5139 19.8137 19.6256 19.7198 19.7195C19.6259 19.8134 19.5143 19.8876 19.3914 19.9379C19.2685 19.9882 19.1368 20.0135 19.004 20.0123C18.8712 20.0112 18.74 19.9836 18.618 19.9312C18.496 19.8788 18.3857 19.8026 18.2934 19.7071L12.0004 13.4141L5.70741 19.7071C5.5188 19.8892 5.2662 19.99 5.00401 19.9878C4.74181 19.9855 4.491 19.8803 4.30559 19.6949C4.12018 19.5095 4.01501 19.2587 4.01273 18.9965C4.01045 18.7343 4.11125 18.4817 4.29341 18.2931Z"
                  fill="#292929"
                />
              </svg>

              <span className='textDescription'>Fechar</span>
            </span>
          )}
        </span>
      </div>

      {showModal && (
        <div className="search-container">
          <ExtensionPoint id="search-bar" />
        </div>
      )}

      {/* <Modal
        isOpen={showModal}
        onClose={() => {
          setShowModal(false);
        }}
        centered
        responsiveFullScreen
        showCloseIcon={false}
      >
        <div className="flex modal-custom-body">
            <ExtensionPoint id="search-bar"/>
        </div>
      </Modal>*/}
    </>
  )
}

export default SearchModalComponent
